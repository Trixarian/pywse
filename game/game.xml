<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<ws name="pywse-feature-walkthrough">
    <settings>
        <stage width="800px" height="500px" create="yes" center="yes" resize="no" />
        <triggers>
            <trigger name="game_menu_key_trigger" event="keyup" key="ESCAPE" function="savegames" />
            <trigger name="next_on_right" event="keyup" key="RIGHT_ARROW" special="next" />
            <trigger name="next_on_space" event="keyup" key="SPACE" special="next" />
        </triggers>
    </settings>
    <assets>
        <textbox name="tb_main" x="5px" y="375px" width="790px" height="120px" namebox="no" speed="10" behaviour="adv">
            <nameTemplate><b>{name}</b><br /></nameTemplate>
        </textbox>
        
        <character name="n" textbox="tb_main"></character>
        <character name="e" textbox="tb_main">
            <displayname>Evelyn</displayname>
        </character>
        
        <imagepack name="evelyn" x="250px" y="50px" z="1000" cssid="evelyn">
            <image src="assets/images/evelyn-normal.png" name="default" />
            <image src="assets/images/evelyn-wink.png" name="wink" />
        </imagepack>
        
        <background name="bg" z="100" src="assets/images/forestbg.jpg" />
        
        <audio name="environment" loop="true">
            <track title="Forest">
                <source href="assets/audio/Barren.mp3" type="mp3" />
            </track>
        </audio>
    </assets>
    <scenes>
        <scene id="start">
            <trigger name="next_on_right" action="activate" />
            <trigger name="next_on_space" action="activate" />
            <trigger name="game_menu_key_trigger" action="activate" />
            
            <goto scene="my_first_scene" />
        </scene>
        
        <scene id="my_first_scene">
            <set asset="environment" track="Forest" />
            <play asset="environment" />
            
            <show asset="bg" />
            <wait />
            
            <show asset="tb_main" />
            <wait />
            
            <set asset="evelyn" image="default" />
            <show asset="evelyn" effect="slide" direction="top" />
            <wait />
            
            <line s="e">
                Hey! Welcome to the WebStory Engine Demo Game to showcase PyWSE!
            </line>
            
            <line s="e">
                Do you want to write your own game? Just replace the imagepack, background and audio with your own stuff and away you go.
            </line>

            <set asset="evelyn" image="wink" />    
            <line s="e">But just remember to change things in game.xml after you replace things or stuff might not work like you'd expect.
            </line>

            <set asset="evelyn" image="default" />               
            <line s="e">
                Need more help? Check out the
                <a href="http://webstoryengine.org" target="_blank" onclick="event.stopPropagation();">website</a> for the documentation and several example games.
            </line>
            
            <line s="e">
                Or maybe you need a bit more indepth help? So go ask the community on 
                <a href="https://iiyo.org/f/categories/webstory-engine-support" 
                    target="_blank" onclick="event.stopPropagation();">support forums</a>!
            </line>
            
            <stop asset="environment" />
            <restart />
        </scene>
    </scenes>
</ws>